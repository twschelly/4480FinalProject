-- Fighter Table (Modified)
CREATE TABLE fighter (
    fighter_name VARCHAR2(100) PRIMARY KEY, 
    age          NUMBER,
    nationality  VARCHAR2(50), 
    style        VARCHAR2(50), 
    gym_name     VARCHAR2(100) REFERENCES gym(name) 
);

-- Fighter Record Table
CREATE TABLE fighter_record (
    fighter_name  VARCHAR2(100) REFERENCES fighter(fighter_name),
    wins          NUMBER,
    ko_wins       NUMBER,
    sub_wins      NUMBER,
    dec_wins      NUMBER,
    losses        NUMBER,
    ko_losses     NUMBER,
    sub_losses    NUMBER,
    dec_losses    NUMBER,
    PRIMARY KEY (fighter_name) 
);

-- Fighter Current Titles Table
CREATE TABLE fighter_current_titles (
    fighter_name   VARCHAR2(100) REFERENCES fighter(fighter_name),
    weight_class   VARCHAR2(30) REFERENCES weight_class(name), 
    PRIMARY KEY (fighter_name, weight_class)
);

-- Fighter Past Titles Table
CREATE TABLE fighter_past_titles (
    fighter_name   VARCHAR2(100) REFERENCES fighter(fighter_name),
    weight_class   VARCHAR2(30) REFERENCES weight_class(name),
    PRIMARY KEY (fighter_name, weight_class)
);

-- Gym Table
CREATE TABLE gym (
    name          VARCHAR2(100) PRIMARY KEY,
    location      VARCHAR2(100),
    focus         VARCHAR2(50),
    head_coach    VARCHAR2(100) REFERENCES coach(coach_name)
);

-- Coach Table
CREATE TABLE coach (
    coach_name  VARCHAR2(100) PRIMARY KEY,
    gym_name    VARCHAR2(100) REFERENCES gym(name),
    subject     VARCHAR2(50)
);

-- Weight Class Table
CREATE TABLE weight_class (
    name              VARCHAR2(30) PRIMARY KEY,
    non_title_limit   NUMBER,
    title_limit       NUMBER,  
    current_champion  VARCHAR2(100) REFERENCES fighter(fighter_name) 
);
